<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lanyetc.github.io","root":"/blog/","scheme":"Muse","version":"8.0.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>

  <meta name="description" content="Maximum SubarrayGiven an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum. Example: 123Input: [-2,1,-3,4,-1,2,1,-5,4],Outp">
<meta property="og:type" content="article">
<meta property="og:title" content="maximum-subarray">
<meta property="og:url" content="https://lanyetc.github.io/blog/2020/10/19/maximum-subarray/index.html">
<meta property="og:site_name" content="Blueleaf&#39;s Blog">
<meta property="og:description" content="Maximum SubarrayGiven an integer array nums, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum. Example: 123Input: [-2,1,-3,4,-1,2,1,-5,4],Outp">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://lanyetc.github.io/images/maxSub-1.png">
<meta property="article:published_time" content="2020-10-19T17:36:52.000Z">
<meta property="article:modified_time" content="2020-10-19T10:25:43.901Z">
<meta property="article:author" content="Ye Lan">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://lanyetc.github.io/images/maxSub-1.png">


<link rel="canonical" href="https://lanyetc.github.io/blog/2020/10/19/maximum-subarray/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'en'
  };
</script>

  <title>maximum-subarray | Blueleaf's Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Blueleaf's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
          <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#Maximum-Subarray"><span class="nav-number">1.</span> <span class="nav-text">Maximum Subarray</span></a></li></ol></div>
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ye Lan</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives">
          <span class="site-state-item-count">3</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner post posts-expand">
      

      

  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lanyetc.github.io/blog/2020/10/19/maximum-subarray/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Ye Lan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blueleaf's Blog">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          maximum-subarray
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>
      

      <time title="Created: 2020-10-19 17:36:52 / Modified: 10:25:43" itemprop="dateCreated datePublished" datetime="2020-10-19T17:36:52+00:00">2020-10-19</time>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
        <h4 id="Maximum-Subarray"><a href="#Maximum-Subarray" class="headerlink" title="Maximum Subarray"></a>Maximum Subarray</h4><p>Given an integer array <code>nums</code>, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [-2,1,-3,4,-1,2,1,-5,4],</span><br><span class="line">Output: 6</span><br><span class="line">Explanation: [4,-1,2,1] has the largest sum &#x3D; 6.</span><br></pre></td></tr></table></figure>



<p><strong>Solution 1: recursive algorithm</strong></p>
<ul>
<li><p><strong>Idea</strong></p>
<p>For an element A[i] of an array A, the maximun subarray should be at the left of A[i], or the right, or include A[i] (acrossing it). Thus, we can just select maxLeftSub, maxRightSub and maxCenterSub. Our division will be based on the middle.</p>
<p>For the left and right maximum substrings, we can find them recursively. Because it is an independent array again.</p>
<p>And for the middle one, its left and right boundaries has to be calculated, that is, accumulate A[0] starting from A[i-1], and see where the maximum is reached. Remember always adding to A[0], comparing and updating the maximum value each time. The same as for the right part. Finally, add A[i] to get maxCenterSub.</p>
<p>而中间的就要去计算它的左右边界，也就是把从A[i-1]开始A[0]累加，看加到哪里为止有最大值。要一直加到A[0]哦，每次都比较和更新最大值。右边也是一样。最后再加上A[i]就得到maxCenterSub。</p>
</li>
</ul>
<p>  <img src="/images/maxSub-1.png"></p>
<ul>
<li><p><strong>Analysis</strong></p>
<p>The painpoint of recursive algorithms: waste of time - running time is O(nlogn). And also used a lot of extra space.</p>
<p><em>Note</em>: This method can also figure out what the substring is and where it starts and ends.</p>
</li>
<li><p><strong>Implementation</strong></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxSubArray = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> maxSubSumRec(nums, <span class="number">0</span>, nums.length-<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxSubSumRec</span>(<span class="params">A, left, right</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right) &#123; <span class="comment">// single element</span></span><br><span class="line">        <span class="keyword">return</span> A[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> center = <span class="built_in">Math</span>.floor((left+right) / <span class="number">2</span>);</span><br><span class="line">    <span class="comment">// Recursively calculate the maximum substring on the left</span></span><br><span class="line">    <span class="keyword">let</span> maxLeftSum = maxSubSumRec(A, left, center-<span class="number">1</span>);</span><br><span class="line">  	<span class="comment">// Recursively calculate the maximum substring on the right</span></span><br><span class="line">    <span class="keyword">let</span> maxRightSum = maxSubSumRec(A, center+<span class="number">1</span>, right);</span><br><span class="line">    </span><br><span class="line">  	<span class="comment">// Calculate the left margin</span></span><br><span class="line">    <span class="keyword">let</span> maxLeftBorderSum = A[center]; </span><br><span class="line">    <span class="keyword">let</span> leftBorderSum = maxLeftBorderSum;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = center-<span class="number">1</span>; i &gt;= left; i--) &#123;</span><br><span class="line">        leftBorderSum += A[i];</span><br><span class="line">        maxLeftBorderSum = <span class="built_in">Math</span>.max(maxLeftBorderSum, leftBorderSum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Calculate the right margin</span></span><br><span class="line">    <span class="keyword">let</span> maxRightBorderSum = A[center]; </span><br><span class="line">    <span class="keyword">let</span> rightBorderSum = maxRightBorderSum;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = center+<span class="number">1</span>; i &lt;= right; i++) &#123;</span><br><span class="line">        rightBorderSum += A[i];</span><br><span class="line">        maxRightBorderSum = <span class="built_in">Math</span>.max(maxRightBorderSum, rightBorderSum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> centerSum = maxLeftBorderSum + maxRightBorderSum - A[center];</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(maxLeftSum, maxRightSum, centerSum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Solution 2: Dynamic Programming</strong></p>
<ul>
<li><p><strong>Idea</strong></p>
<p>The principle is that the maximum substring must start with a positive number (if there is one in the array).</p>
<p>因此当找到第一个正数的时候从前往后去累加，当sum&gt;0时，对于后面的部分还是增益的，还有可能继续增长。但当sum&lt;=0时，再累加的话对后面的部分就是拖累了，也就是会减小。可以这么看，把后面的元素一个个往第一个位置加，所以sum可以看成是子串的开头，我们在往下寻找最大子串的时候，肯定要舍弃前面为负的部分。</p>
<p>Therefore, when the first positive number is found, we can accumulate from it to back. When sum&gt;0, the latter part is still gaining, and it may continue to increase. But when sum&lt;=0, if it accumulates, it will drag down the latter part, that is, it will decrease. We can look at it this way: Add the following elements one by one to the first position, and sum can be regarded as the beginning of the substring, thus when we look for the largest substring, we must discard the negative part before it.</p>
</li>
<li><p><strong>Analysis</strong></p>
<p>The time complexity is O(n), because the loop is only done once</p>
</li>
<li><p><strong>Implementation</strong></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxSubArray = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> max = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++</span>)</span> &#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        max = <span class="built_in">Math</span>.max(sum, max);</span><br><span class="line">        <span class="keyword">if</span> (sum &lt;= <span class="number">0</span> &amp;&amp; i &lt; nums.length-<span class="number">1</span>) &#123; </span><br><span class="line">          <span class="comment">// If sum&lt;=0, it means that the previous substring accumulation has no gain to the back, so the sum is calculated from the next position again</span></span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(maxSubArray([-<span class="number">2</span>, <span class="number">1</span>]));</span><br></pre></td></tr></table></figure>



<p>**Another Implementation **</p>
<p>More space-saving: no extra memory is used during the loop (may still be used when calculating max), and each nums[i] stores its maximum accumulated value as the end point. Because the substring must end with a certain element, this is equivalent to calculating all the possibilities, and we just need to find the largest value among them.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxSubArray = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123; </span><br><span class="line">    <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i = <span class="number">1</span>; i &lt; nums.length; i++</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i-<span class="number">1</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            nums[i] += nums[i-<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(...nums);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>





    </div>

    
    
    

    <footer class="post-footer">

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/blog/2020/10/19/hello-world/" rel="prev" title="Hello World">
                  <i class="fa fa-chevron-left"></i> Hello World
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/blog/2020/10/19/Best-Time-to-Buy-and-Sell-Stock/" rel="next" title="Best-Time-to-Buy-and-Sell-Stock">
                  Best-Time-to-Buy-and-Sell-Stock <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ye Lan</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/schemes/muse.js"></script><script src="/blog/js/next-boot.js"></script>

  


















  








  

  

</body>
</html>
