<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 5.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/blog/images/logo.svg" color="#222">

<link rel="stylesheet" href="/blog/css/main.css">



<link rel="stylesheet" href="//cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.15.0/css/all.min.css">
  <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/animate.css@3.1.1/animate.min.css">

<script class="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"lanyetc.github.io","root":"/blog/","scheme":"Muse","version":"8.0.1","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12},"copycode":false,"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"prism":false,"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Blueleaf&#39;s Blog">
<meta property="og:url" content="https://lanyetc.github.io/blog/index.html">
<meta property="og:site_name" content="Blueleaf&#39;s Blog">
<meta property="og:locale" content="en_US">
<meta property="article:author" content="Ye Lan">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://lanyetc.github.io/blog/">


<script class="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'en'
  };
</script>

  <title>Blueleaf's Blog</title>
  






  <noscript>
  <style>
  body { margin-top: 2rem; }

  .use-motion .menu-item,
  .use-motion .sidebar,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header {
    visibility: visible;
  }

  .use-motion .header,
  .use-motion .site-brand-container .toggle,
  .use-motion .footer { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle,
  .use-motion .custom-logo-image {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line {
    transform: scaleX(1);
  }

  .search-pop-overlay, .sidebar-nav { display: none; }
  .sidebar-panel { display: block; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
    </div>
  </div>

  <div class="site-meta">

    <a href="/blog/" class="brand" rel="start">
      <i class="logo-line"></i>
      <h1 class="site-title">Blueleaf's Blog</h1>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>







</div>
        
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>

  <aside class="sidebar">

    <div class="sidebar-inner sidebar-overview-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <section class="post-toc-wrap sidebar-panel">
      </section>
      <!--/noindex-->

      <section class="site-overview-wrap sidebar-panel">
        <div class="site-author site-overview-item animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Ye Lan</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap site-overview-item animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/blog/archives">
          <span class="site-state-item-count">4</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">categories</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">1</span>
        <span class="site-state-item-name">tags</span>
      </div>
  </nav>
</div>



      </section>
    </div>
  </aside>
  <div class="sidebar-dimmer"></div>


    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>


    <div class="main-inner index posts-expand">
      

      
    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lanyetc.github.io/blog/2020/10/07/Variable-Declaration/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Ye Lan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blueleaf's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2020/10/07/Variable-Declaration/" class="post-title-link" itemprop="url">Variable Declaration</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-10-07 19:14:12" itemprop="dateCreated datePublished" datetime="2020-10-07T19:14:12+00:00">2020-10-07</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-10-19 11:27:51" itemprop="dateModified" datetime="2020-10-19T11:27:51+00:00">2020-10-19</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Javascript/" itemprop="url" rel="index"><span itemprop="name">Javascript</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h2 id="Variable-Declaration"><a href="#Variable-Declaration" class="headerlink" title="Variable Declaration"></a>Variable Declaration</h2><h3 id="Let-keyword"><a href="#Let-keyword" class="headerlink" title="Let keyword"></a>Let keyword</h3><p><strong>Features</strong>：</p>
<ol>
<li>No variable hoisting —— Variables can only be used after declaration.</li>
<li>Temporal dead zone —— If <code>let</code> declares a variable v, then v cannot be used before let declares it in the scope of let. It can be said that before v is declared, it already exists (this variable name is already occupied and cannot be used (sorry for the nonsense in the brackets)), but it cannot be obtained. Only after it is declared can it be obtained and used.</li>
<li>No repeated declaration of variables —— Therefore, it is not allowed to redeclare variables inside the function.</li>
</ol>
<h3 id="Block-scope"><a href="#Block-scope" class="headerlink" title="Block scope"></a>Block scope</h3><p>There are only global scope and function scope in ES5. ES6 adds block-level scope, and block-level scope must be in braces. (But it doesn’t seem right. ES5 also has the concept of block-level scope, but there are only two types of variables: global and function-level.)</p>
<p>In the ES5 specification, it is not allowed to declare functions in block-level scope. (But if you declare it, no error will be reported. The browser still supports it, but it does not conform to the specification.) In ES6, it is clearly allowed to declare functions in the block-level scope. The behavior of the function declaration statement is equivalent to let, and the function is not referable outside the block-level scope.</p>
<p>But! Look at the following code:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The ES6 environment of the browser</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;I am outside!&#x27;</span>); &#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="comment">// Declare function f repeatedly</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;I am inside!&#x27;</span>); &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  f();</span><br><span class="line">&#125;());</span><br><span class="line"><span class="comment">// Uncaught TypeError: f is not a function</span></span><br></pre></td></tr></table></figure>

<p>It should output<code>I am outside!</code>, but for ES6 browsers, this code will report an error. Because ES6 browsers still follow the<code>var</code>method for the functions declared in the block-level scope。In other words, the function declaration will be promoted to the head of the global or function scope. That is, the function declared in the block-level scope is actually equivalent to the behavior of the var variable.</p>
<p>The above code will be converted to:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;I am outside!&#x27;</span>); &#125;</span><br><span class="line"></span><br><span class="line">(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> f = <span class="literal">undefined</span>;</span><br><span class="line">  <span class="keyword">if</span> (<span class="literal">false</span>) &#123;</span><br><span class="line">    <span class="comment">// Declare function f repeatedly</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123; <span class="built_in">console</span>.log(<span class="string">&#x27;I am inside!&#x27;</span>); &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  f();</span><br><span class="line">&#125;());</span><br></pre></td></tr></table></figure>

<p>Due to environmental differences and other factors, it is best not to declare functions in the block-level scope. If you want to use it, it is best to write a function expression with let:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="keyword">let</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">&#x27;I am inside!&#x27;</span>)</span><br><span class="line">  &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>





<h3 id="Const-keyword"><a href="#Const-keyword" class="headerlink" title="Const keyword"></a>Const keyword</h3><p><code>Const</code> declares a read-only constant and its value cannot be changed once it is declared. Like let, it has no variable promotion, temporary dead zone, and no repeated declarations.</p>
<p><strong>Features</strong>：</p>
<ol>
<li>A value must be assigned when declaring a const variable, otherwise an error will be reported. (Because if you don’t assign a value at the beginning, you can’t modify it later, this variable has no meaning to provoke it.)</li>
<li><code>Const</code> essentially guarantees that the value stored in the memory address pointed to by the variable remains unchanged. Therefore, for basic types, its value cannot be changed. For composite types, only a pointer to the real data is stored in the memory address pointed to by the variable. So only the pointer does not change, but the actual data can still be modified. For example, object or array, etc., can be operated on.</li>
</ol>
<h4 id="Freeze-Object"><a href="#Freeze-Object" class="headerlink" title="Freeze Object"></a>Freeze Object</h4><p>If you really want to freeze an object, use the<code>Object.freeze()</code>method. This method can prevent the object from adding/deleting/modifying attributes. To completely freeze an object, the properties of each object type should also be frozen.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Object</span>.freeze(obj);</span><br><span class="line"><span class="built_in">Object</span>.keys(obj).forEach(<span class="function">(<span class="params">key ,i</span>) =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> obj[key] == <span class="string">&#x27;object&#x27;</span>) &#123;</span><br><span class="line">    <span class="built_in">Object</span>.freeze(obj);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>





<h3 id="ES6-method-of-declaring-variables"><a href="#ES6-method-of-declaring-variables" class="headerlink" title="ES6 method of declaring variables"></a>ES6 method of declaring variables</h3><p>There are 6 ways to declare variables in ES6：<code>var, function, let, const, import, class</code>.</p>
<h3 id="The-top-level-object"><a href="#The-top-level-object" class="headerlink" title="The top level object"></a>The top level object</h3><p>The top-level object refers to the<code>window</code>object in the browser, and the <code>global</code> object in the node.</p>
<p>In ES5, global variables are equivalent to the properties of the top-level object. When a global variable is declared, it automatically becomes an attribute of the top-level object. Will cause some problems:</p>
<ol>
<li>No errors will be reported for undeclared variables at compile time, and errors will only be reported at runtime. Because it is likely to be a property created by the top-level object, and the creation of the property is dynamic.</li>
<li>The attributes of the top-level object can be read and written arbitrarily, which is not conducive to modular programming.</li>
<li>The <code>windows</code> object has an entity meaning and represents a browser object. This is not appropriate, because we may attach some attributes to it that are not related to this entity.</li>
</ol>
<p>ES6 attempts to unbind global variables and top-level objects. It stipulates that the variables declared by <code>var</code> and <code>function</code> (ES5’s original variable declaration method) are still attributes of the top-level object, while global variables declared by <code>let, const, class</code> do not belong to the top-level object.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">1</span>; <span class="comment">// Use var to declare a global variable</span></span><br><span class="line">windows.a; <span class="comment">// 1</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> b = <span class="number">2</span>; <span class="comment">// Use let to declare a global variable</span></span><br><span class="line">windows.b; <span class="comment">// undefined</span></span><br></pre></td></tr></table></figure>



<p>The top-level objects are not uniform in different implementations:</p>
<ol>
<li>In the browser, <code>windows</code> is the top-level object, and <code>global</code> in node is the top-level object.</li>
<li>The <code>self</code> in the browser and web worker also points to the top-level object, there is no <code>self</code> in the node</li>
</ol>
<h4 id="globalThis-object"><a href="#globalThis-object" class="headerlink" title="globalThis object"></a>globalThis object</h4><p>ES2020 introduced <code>globalThis</code> as the top-level object, which exists in any environment. This ensures that the top-level object can be obtained by it in any environment.</p>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lanyetc.github.io/blog/2020/10/03/Random-Problems/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Ye Lan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blueleaf's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2020/10/03/Random-Problems/" class="post-title-link" itemprop="url">Random Problems</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-10-03 18:44:16" itemprop="dateCreated datePublished" datetime="2020-10-03T18:44:16+00:00">2020-10-03</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-10-19 11:27:51" itemprop="dateModified" datetime="2020-10-19T11:27:51+00:00">2020-10-19</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="Single-Number"><a href="#Single-Number" class="headerlink" title="Single Number"></a>Single Number</h4><p>Given a <strong>non-empty</strong> array of integers, every element appears <em>twice</em> except for one. Find that single one.</p>
<p><strong>Note:</strong></p>
<p>Your algorithm should have a linear runtime complexity. Could you implement it without using extra memory?</p>
<p><strong>My solution :</strong></p>
<p>Sort and loop</p>
<p>Question: the sort() method implements on quick sort, but when I wrote a quick sort by myself, it said “time limit exceed”, why???</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> singleNumIdx = <span class="number">0</span>;</span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> ((i == <span class="number">0</span> &amp;&amp; (nums.length == <span class="number">1</span> || nums[i] &lt; nums[i+<span class="number">1</span>])) </span><br><span class="line">                || (i == nums.length-<span class="number">1</span> &amp;&amp; nums[i] &gt; nums[i-<span class="number">1</span>])</span><br><span class="line">                || (nums[i] &lt; nums[i+<span class="number">1</span>] &amp;&amp; nums[i] &gt; nums[i-<span class="number">1</span>]) ) &#123;</span><br><span class="line">                singleNumIdx = i;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> nums[singleNumIdx];</span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>Solution:</strong></p>
<ol>
<li><p>Math</p>
<p>Concept: 2(a+b+c) - (a+a+b+b+c) = c</p>
<p>Time complexity : O(n)</p>
<p>Space complexity: O(n)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> sumOfSet = <span class="number">0</span>, sumOfNums = <span class="number">0</span>;</span><br><span class="line">    Set&lt;Integer&gt; set = <span class="keyword">new</span> HashSet();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> num : nums) &#123;</span><br><span class="line">      <span class="keyword">if</span> (!set.contains(num)) &#123;</span><br><span class="line">        set.add(num);</span><br><span class="line">        sumOfSet += num;</span><br><span class="line">      &#125;</span><br><span class="line">      sumOfNums += num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">2</span> * sumOfSet - sumOfNums;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<ol start="2">
<li><p>Bit Manipulation</p>
<p>Concept: </p>
<ul>
<li><em>a</em>⊕0=<em>a</em>; </li>
<li><em>a</em>⊕<em>a</em>=<em>0</em></li>
</ul>
<p>Time complexity: O(n)</p>
<p>Space complexity : O(1)</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">singleNumber</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">int</span> a = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i : nums) &#123;</span><br><span class="line">      a ^= i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> a;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



</li>
</ol>
<h4 id="Happy-Number"><a href="#Happy-Number" class="headerlink" title="Happy Number"></a>Happy Number</h4><p>Write an algorithm to determine if a number <code>n</code> is “happy”.</p>
<p>A happy number is a number defined by the following process: Starting with any positive integer, replace the number by the sum of the squares of its digits, and repeat the process until the number equals 1 (where it will stay), or it <strong>loops endlessly in a cycle</strong> which does not include 1. Those numbers for which this process <strong>ends in 1</strong> are happy numbers.</p>
<p>Return True if <code>n</code> is a happy number, and False if not.</p>
<p><strong>Example:</strong> </p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Input: 19</span><br><span class="line">Output: true</span><br><span class="line">Explanation: </span><br><span class="line">12 + 92 &#x3D; 82</span><br><span class="line">82 + 22 &#x3D; 68</span><br><span class="line">62 + 82 &#x3D; 100</span><br><span class="line">12 + 02 + 02 &#x3D; 1</span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong>Idea</strong>：</p>
<p>Convert the number to a string first, then use split to cut each bit into the array, calculate the sum, and recurse when the sum is not 1. Save each sum, and stop when the sum starts to repeat.</p>
</li>
</ul>
<ul>
<li><p><strong>Implemetation</strong></p>
<p>arr.reduce(function, initialValue): Combine the array according to the function method. If arr.length == 1, and no initialValue is specified, the single element value of the original array is returned directly without executing the callback method.</p>
<p>Can be used to achieve accumulation.</p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">n</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;boolean&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> set = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line"><span class="keyword">var</span> isHappy = <span class="function"><span class="keyword">function</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> sum = splitAndPlus(n);</span><br><span class="line">    <span class="keyword">while</span> (sum !== <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="function"><span class="title">if</span>(<span class="params">!set.has(sum)</span>)</span> &#123;</span><br><span class="line">            set.add(sum);</span><br><span class="line">            sum = splitAndPlus(sum);</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">splitAndPlus</span>(<span class="params">n</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> numArray = n.toString().split(<span class="string">&quot;&quot;</span>).map(<span class="built_in">Number</span>);</span><br><span class="line">    <span class="keyword">return</span> numArray.reduce(<span class="function">(<span class="params">acc,cur</span>) =&gt;</span> acc += cur*cur, <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>




      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lanyetc.github.io/blog/2020/10/01/Best-Time-to-Buy-and-Sell-Stock/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Ye Lan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blueleaf's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2020/10/01/Best-Time-to-Buy-and-Sell-Stock/" class="post-title-link" itemprop="url">Best Time to Buy and Sell Stock</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-10-01 18:09:06" itemprop="dateCreated datePublished" datetime="2020-10-01T18:09:06+00:00">2020-10-01</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-10-19 11:27:51" itemprop="dateModified" datetime="2020-10-19T11:27:51+00:00">2020-10-19</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="Best-Time-to-Buy-and-Sell-Stock"><a href="#Best-Time-to-Buy-and-Sell-Stock" class="headerlink" title="Best Time to Buy and Sell Stock"></a>Best Time to Buy and Sell Stock</h4><p>Say you have an array for which the <em>i</em>th element is the price of a given stock on day <em>i</em>.</p>
<p>If you were only permitted to complete at most one transaction (i.e., buy one and sell one share of the stock), design an algorithm to find the maximum profit.</p>
<p>Note that you cannot sell a stock before you buy one.</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [7,1,5,3,6,4]</span><br><span class="line">Output: 5</span><br><span class="line">Explanation: Buy on day 2 (price &#x3D; 1) and sell on day 5 (price &#x3D; 6), profit &#x3D; 6-1 &#x3D; 5.</span><br><span class="line">             Not 7-1 &#x3D; 6, as selling price needs to be larger than buying price.</span><br></pre></td></tr></table></figure>

<p><strong>Example 2:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [7,6,4,3,1]</span><br><span class="line">Output: 0</span><br><span class="line">Explanation: In this case, no transaction is done, i.e. max profit &#x3D; 0.</span><br></pre></td></tr></table></figure>



<ul>
<li><p><strong>Idea</strong></p>
<p>It’s similar to the largest substring, looping once to find the day when the profit is the most to sell. To store the previous lowest cost and highest profit.</p>
</li>
<li><p><strong>Implementation</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">prices</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> minCost = prices[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> maxProfit = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">1</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">        minCost = prices[i-<span class="number">1</span>] &lt; minCost ? prices[i-<span class="number">1</span>] : minCost;</span><br><span class="line">        <span class="keyword">if</span> (prices[i] &gt; minCost) &#123;</span><br><span class="line">            maxProfit = (prices[i]-minCost) &gt; maxProfit ? prices[i]-minCost : maxProfit;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxProfit;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>





</li>
</ul>
<h4 id="Best-Time-to-Buy-and-Sell-Stock-II"><a href="#Best-Time-to-Buy-and-Sell-Stock-II" class="headerlink" title="Best Time to Buy and Sell Stock II"></a>Best Time to Buy and Sell Stock II</h4><p>Say you have an array <code>prices</code> for which the <em>i</em>th element is the price of a given stock on day <em>i</em>.</p>
<p>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (i.e., buy one and sell one share of the stock multiple times).</p>
<p><strong>Note:</strong> You may not engage in multiple transactions at the same time (i.e., you must sell the stock before you buy again).</p>
<p><strong>Example 1:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Input: [7,1,5,3,6,4]</span><br><span class="line">Output: 7</span><br><span class="line">Explanation: Buy on day 2 (price &#x3D; 1) and sell on day 3 (price &#x3D; 5), profit &#x3D; 5-1 &#x3D; 4.</span><br><span class="line">             Then buy on day 4 (price &#x3D; 3) and sell on day 5 (price &#x3D; 6), profit &#x3D; 6-3 &#x3D; 3.</span><br></pre></td></tr></table></figure>

<p>（There is no limit to the number of transactions, but the existing ones must be sold before the next purchase）</p>
<ul>
<li><p><strong>Idea</strong></p>
<p>This is to find the maximum profit. If the elements of the array are drawn on the coordinate system and connected as a line, it is easy to understand, that is, to add up all the growth. Go to the bottom of the valley and the peak of the valley. When you encounter a valley of the bottom A[i], go to the next valley and peak A[j] to sell. Because as long as the price continues to rise, greater profits will be made. Once it starts to fall, wait until the bottom to buy.</p>
<p><img src="images/best-time-buy-sell-2.png" alt="image-20200428182422320"></p>
</li>
</ul>
<ul>
<li><p><strong>Implementation</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">prices</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> maxProfit = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i+<span class="number">1</span>&lt; prices.length &amp;&amp; prices[i+<span class="number">1</span>] &gt; prices[i]) &#123;</span><br><span class="line">            maxProfit += prices[i+<span class="number">1</span>] - prices[i];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxProfit;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



</li>
</ul>
<h4 id="Best-Time-to-Buy-and-Sell-Stock-with-Cooldown"><a href="#Best-Time-to-Buy-and-Sell-Stock-with-Cooldown" class="headerlink" title="Best Time to Buy and Sell Stock with Cooldown"></a>Best Time to Buy and Sell Stock with Cooldown</h4><p>Say you have an array for which the <em>i</em>th element is the price of a given stock on day <em>i</em>.</p>
<p>Design an algorithm to find the maximum profit. You may complete as many transactions as you like (ie, buy one and sell one share of the stock multiple times) with the following restrictions:</p>
<ul>
<li>You may not engage in multiple transactions at the same time (ie, you must sell the stock before you buy again).</li>
<li>After you sell your stock, you cannot buy stock on next day. (ie, cooldown 1 day)</li>
</ul>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [1,2,3,0,2]</span><br><span class="line">Output: 3 </span><br><span class="line">Explanation: transactions &#x3D; [buy, sell, cooldown, buy, sell]</span><br></pre></td></tr></table></figure>

<ul>
<li><p><strong>Idea</strong></p>
<p>Cooldown means sell can only goes to rest state，not buy state。</p>
</li>
<li><p><strong>Implementation</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">prices</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxProfit = <span class="function"><span class="keyword">function</span>(<span class="params">prices</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> T_i_k_0 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> T_i_k_1 = -prices[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> T_i_1_k_0 = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">let</span> T_i_2_k_0 = -prices[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; prices.length; i++) &#123;</span><br><span class="line">        T_i_k_0 = <span class="built_in">Math</span>.max(T_i_1_k_0, T_i_k_1 + prices[i]);</span><br><span class="line">        T_i_k_1 = <span class="built_in">Math</span>.max(T_i_k_1, T_i_2_k_0 - prices[i]);</span><br><span class="line">        T_i_2_k_0 = T_i_1_k_0;</span><br><span class="line">        T_i_1_k_0 = T_i_k_0;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> T_i_k_0;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>





</li>
</ul>
<h4 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h4><p>For the best time to buy and sell problem, the following factors affect the best interests:</p>
<ol>
<li>We are currently at the i-th day.</li>
<li>How many transactions we are allowed to do</li>
<li>After the end of the day, the inventory we have on hand (because we cannot be involved in two transactions at the same time, that is, we must empty the inventory before we can continue to purchase)</li>
</ol>
<p>There are also three kinds of actions we can take：buy, rest, and sell</p>
<p>We assume the following variables：</p>
<ol>
<li><p>prices is the array of a series price, prices[i]represents the price on the i-th day.</p>
</li>
<li><p>k represents the number of transactions allowed</p>
</li>
<li><p>T[i] [k] represents the maximum profit that can be obtained on the i-th day under the limit of the maximum number of transactions k. However, since two transactions cannot be involved at the same time, the actions we can do are different for situations where there is and no inventory on hand after the transaction ends. Therefore, the calculation method of T[i] [k] will also change:</p>
<ul>
<li><p>After the transaction ends, the on-hand inventory is 0. It may be that the inventory on the i-1 day is 0 and no transaction occurs on the i day, or the inventory on the i-1 day is 1 and the sell operation is performed on the i day.</p>
<blockquote>
<p>T[i] [k] [0] = max(T[i-1] [k] [0], T[i-1] [k] [1] + prices[i] )</p>
</blockquote>
</li>
<li><p>After the transaction ends, the on-hand inventory is 1. It may be that the inventory on the i-1 day is 1 and no transaction occurs on the i day, or the inventory on the i-1 day is 0 and the buy operation is performed on the i day.</p>
<blockquote>
<p>T[i] [k] [1] = max(T[i-1] [k] [1], T[i-1] [k+1] [0] - prices[i] )</p>
</blockquote>
</li>
</ul>
</li>
</ol>
<p>Therefore, to calculate the maximum profit maxProfit, we only need to loop the convenience prices array, update the values of T[i] [k] [0] and T[i] [k] [1], and finally get T[i] [k] The value of [0] is maxProfit. As for why it’s not T[i] [k] [1]…. of course it’s because the max profit can only be made by selling them all!</p>
<h4 id="Reference"><a href="#Reference" class="headerlink" title="Reference"></a>Reference</h4><ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/best-time-to-buy-and-sell-stock-with-cooldown/discuss/75924/Most-consistent-ways-of-dealing-with-the-series-of-stock-problems">General wyas for stock problems</a></li>
</ul>

      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>




    


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://lanyetc.github.io/blog/2020/09/30/maximum-subarray/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/blog/images/avatar.gif">
      <meta itemprop="name" content="Ye Lan">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Blueleaf's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/blog/2020/09/30/maximum-subarray/" class="post-title-link" itemprop="url">Maximum Subarray</a>
        </h2>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2020-09-30 17:36:52" itemprop="dateCreated datePublished" datetime="2020-09-30T17:36:52+00:00">2020-09-30</time>
    </span>
      <span class="post-meta-item">
        <span class="post-meta-item-icon">
          <i class="far fa-calendar-check"></i>
        </span>
        <span class="post-meta-item-text">Edited on</span>
        <time title="Modified: 2020-10-19 11:27:51" itemprop="dateModified" datetime="2020-10-19T11:27:51+00:00">2020-10-19</time>
      </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/blog/categories/Algorithm/" itemprop="url" rel="index"><span itemprop="name">Algorithm</span></a>
        </span>
    </span>

  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">
          <h4 id="Maximum-Subarray"><a href="#Maximum-Subarray" class="headerlink" title="Maximum Subarray"></a>Maximum Subarray</h4><p>Given an integer array <code>nums</code>, find the contiguous subarray (containing at least one number) which has the largest sum and return its sum.</p>
<p><strong>Example:</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Input: [-2,1,-3,4,-1,2,1,-5,4],</span><br><span class="line">Output: 6</span><br><span class="line">Explanation: [4,-1,2,1] has the largest sum &#x3D; 6.</span><br></pre></td></tr></table></figure>



<p><strong>Solution 1: recursive algorithm</strong></p>
<ul>
<li><p><strong>Idea</strong></p>
<p>For an element A[i] of an array A, the maximun subarray should be at the left of A[i], or the right, or include A[i] (acrossing it). Thus, we can just select maxLeftSub, maxRightSub and maxCenterSub. Our division will be based on the middle.</p>
<p>For the left and right maximum substrings, we can find them recursively. Because it is an independent array again.</p>
<p>And for the middle one, its left and right boundaries has to be calculated, that is, accumulate A[0] starting from A[i-1], and see where the maximum is reached. Remember always adding to A[0], comparing and updating the maximum value each time. The same as for the right part. Finally, add A[i] to get maxCenterSub.</p>
</li>
</ul>
<p>  <img src="/images/maxSub-1.png" alt="image-2020042818242232"></p>
<ul>
<li><p><strong>Analysis</strong></p>
<p>The painpoint of recursive algorithms: waste of time - running time is O(nlogn). And also used a lot of extra space.</p>
<p><em>Note</em>: This method can also figure out what the substring is and where it starts and ends.</p>
</li>
<li><p><strong>Implementation</strong></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxSubArray = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> maxSubSumRec(nums, <span class="number">0</span>, nums.length-<span class="number">1</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">maxSubSumRec</span>(<span class="params">A, left, right</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (left &gt;= right) &#123; <span class="comment">// single element</span></span><br><span class="line">        <span class="keyword">return</span> A[left];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> center = <span class="built_in">Math</span>.floor((left+right) / <span class="number">2</span>);</span><br><span class="line">    <span class="comment">// Recursively calculate the maximum substring on the left</span></span><br><span class="line">    <span class="keyword">let</span> maxLeftSum = maxSubSumRec(A, left, center-<span class="number">1</span>);</span><br><span class="line">  	<span class="comment">// Recursively calculate the maximum substring on the right</span></span><br><span class="line">    <span class="keyword">let</span> maxRightSum = maxSubSumRec(A, center+<span class="number">1</span>, right);</span><br><span class="line">    </span><br><span class="line">  	<span class="comment">// Calculate the left margin</span></span><br><span class="line">    <span class="keyword">let</span> maxLeftBorderSum = A[center]; </span><br><span class="line">    <span class="keyword">let</span> leftBorderSum = maxLeftBorderSum;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = center-<span class="number">1</span>; i &gt;= left; i--) &#123;</span><br><span class="line">        leftBorderSum += A[i];</span><br><span class="line">        maxLeftBorderSum = <span class="built_in">Math</span>.max(maxLeftBorderSum, leftBorderSum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// Calculate the right margin</span></span><br><span class="line">    <span class="keyword">let</span> maxRightBorderSum = A[center]; </span><br><span class="line">    <span class="keyword">let</span> rightBorderSum = maxRightBorderSum;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = center+<span class="number">1</span>; i &lt;= right; i++) &#123;</span><br><span class="line">        rightBorderSum += A[i];</span><br><span class="line">        maxRightBorderSum = <span class="built_in">Math</span>.max(maxRightBorderSum, rightBorderSum);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">let</span> centerSum = maxLeftBorderSum + maxRightBorderSum - A[center];</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(maxLeftSum, maxRightSum, centerSum);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>Solution 2: Dynamic Programming</strong></p>
<ul>
<li><p><strong>Idea</strong></p>
<p>The principle is that the maximum substring must start with a positive number (if there is one in the array).</p>
<p>Therefore, when the first positive number is found, we can accumulate from it to back. When sum&gt;0, the latter part is still gaining, and it may continue to increase. But when sum&lt;=0, if it accumulates, it will drag down the latter part, that is, it will decrease. We can look at it this way: Add the following elements one by one to the first position, and sum can be regarded as the beginning of the substring, thus when we look for the largest substring, we must discard the negative part before it.</p>
</li>
<li><p><strong>Analysis</strong></p>
<p>The time complexity is O(n), because the loop is only done once</p>
</li>
<li><p><strong>Implementation</strong></p>
</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxSubArray = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> max = nums[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">let</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i = <span class="number">0</span>; i &lt; nums.length; i++</span>)</span> &#123;</span><br><span class="line">        sum += nums[i];</span><br><span class="line">        max = <span class="built_in">Math</span>.max(sum, max);</span><br><span class="line">        <span class="keyword">if</span> (sum &lt;= <span class="number">0</span> &amp;&amp; i &lt; nums.length-<span class="number">1</span>) &#123; </span><br><span class="line">          <span class="comment">// If sum&lt;=0, it means that the previous substring accumulation has no gain to the back, so the sum is calculated from the next position again</span></span><br><span class="line">            sum = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> max;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(maxSubArray([-<span class="number">2</span>, <span class="number">1</span>]));</span><br></pre></td></tr></table></figure>



<p>**Another Implementation **</p>
<p>More space-saving: no extra memory is used during the loop (may still be used when calculating max), and each nums[i] stores its maximum accumulated value as the end point. Because the substring must end with a certain element, this is equivalent to calculating all the possibilities, and we just need to find the largest value among them.</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number[]&#125;</span> <span class="variable">nums</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;number&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> maxSubArray = <span class="function"><span class="keyword">function</span>(<span class="params">nums</span>) </span>&#123; </span><br><span class="line">    <span class="function"><span class="title">for</span>(<span class="params"><span class="keyword">let</span> i = <span class="number">1</span>; i &lt; nums.length; i++</span>)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i-<span class="number">1</span>] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            nums[i] += nums[i-<span class="number">1</span>]</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.max(...nums);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>





      
    </div>

    
    
    

    <footer class="post-footer">
        <div class="post-eof"></div>
      
    </footer>
  </article>
</div>





  



      

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      const activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      const commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

    </div>
  </main>

  <footer class="footer">
    <div class="footer-inner">
      

      

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Ye Lan</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/muse/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a>
  </div>

    </div>
  </footer>

  
  <script src="//cdn.jsdelivr.net/npm/animejs@3.2.0/lib/anime.min.js"></script>
<script src="/blog/js/utils.js"></script><script src="/blog/js/motion.js"></script><script src="/blog/js/schemes/muse.js"></script><script src="/blog/js/next-boot.js"></script>

  


















  








  

  

</body>
</html>
